<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

<div class="container mx-auto p-4 md:p-10">
  

    <main class="max-w-xl mx-auto bg-white rounded-lg shadow-xl p-8">
        <div class="flex flex-col md:flex-row items-center space-y-4 md:space-y-0 md:space-x-4">
            <input type="text" id="promptInput" placeholder="Enter your prompt here..." value="Instagram style selfie shot photo of a chimpanzee in sunglasses and bandana, showing thumbs up sign, amateur shot" class="flex-grow p-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500">
            <button id="generateBtn" class="bg-blue-600 text-white font-semibold py-3 px-6 rounded-lg hover:bg-blue-700 transition duration-300 ease-in-out">
                Generate
            </button>
        </div>
        <div class="mt-8 flex justify-center items-center text-gray-700 font-semibold text-lg">
                <span class="mr-2">ðŸ¤–</span> AI Response
            </div>
        <div id="imageContainer" class="mt-2 flex justify-center items-center h-96 bg-gray-200 rounded-lg overflow-hidden relative">
            <p id="placeholderText" class="text-gray-500 text-center">Your generated image will appear here.</p>
            <img id="aiImage" src="" alt="Generated AI Image" class="hidden w-full h-full object-contain">
            <div id="loadingSpinner" class="hidden absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2">
                <div class="animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-blue-500"></div>
            </div>
        </div>
    </main>
</div>

<script>
document.addEventListener('DOMContentLoaded', () => {
    const generateBtn = document.getElementById('generateBtn');
    const promptInput = document.getElementById('promptInput');
    const imageContainer = document.getElementById('imageContainer');
    const aiImage = document.getElementById('aiImage');
    const placeholderText = document.getElementById('placeholderText');
    const loadingSpinner = document.getElementById('loadingSpinner');

    generateBtn.addEventListener('click', async () => {
        const prompt = promptInput.value.trim();
        if (!prompt) return;

        placeholderText.classList.add('hidden');
        aiImage.classList.add('hidden');
        loadingSpinner.classList.remove('hidden');

        try {
            const response = await axios.get(`https://image.pollinations.ai/prompt/${encodeURIComponent(prompt)}?nologo=true&private=true&enhance=true`, {
                responseType: 'blob'
            });

            const imageUrl = URL.createObjectURL(response.data);
            aiImage.src = imageUrl;
            aiImage.classList.remove('hidden');

        } catch (error) {
            console.error('Error fetching image:', error);
            placeholderText.textContent = 'Failed to generate image. Please try again.';
            placeholderText.classList.remove('hidden');
        } finally {
            loadingSpinner.classList.add('hidden');
        }
    });
});
</script>

